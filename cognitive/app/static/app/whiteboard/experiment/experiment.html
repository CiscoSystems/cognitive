<md-content ng-controller="ExperimentController as vm" style="background: whitesmoke">
  <md-toolbar class="md-menu-toolbar" style="border-bottom: solid 1px #3F51B5;">
    <div layout="row">
      <md-toolbar-filler layout layout-align="center center">
        <a ui-sref="index">
          <i class="fa fa-cube" style="color: white"></i>
        </a>
      </md-toolbar-filler>
      <div>
        <h2 class="md-toolbar-tools">Untitled document</h2>
        <md-menu-bar>
          <md-menu>
            <button>
              File
            </button>
            <md-menu-content>
              <md-menu-item>
                <md-button>
                  Share...
                </md-button>
              </md-menu-item>
            </md-menu-content>
          </md-menu>
        </md-menu-bar>
      </div>
    </div>
  </md-toolbar>
  <md-content layout="row" style="background: whitesmoke">
    <md-card flex="20">
      <md-card-content class="md-padding">
        <md-input-container flex>
          <label>Components</label>
          <input ng-model="vm.search_components">
        </md-input-container>
        <md-list>
          <md-list-item class="md-line" layout-fill ng-repeat="component in vm.components | filter:vm.search_components" ng-click="vm.showComponentCreationDialog($event, $index)" component="{{component.type}}">
            <span flex="20">
              <i class="{{component.icon_class}}"></i>
            </span>
            <span>{{ component.name }}</span>
          </md-list-item>
        </md-list>
        <div id="component_arguments">
          <div class="detail left-menu-detail-cognitive">
            <ng-include src="vm.detail_template_url"></ng-include>
          </div>
        </div>
      </md-card-content>
    </md-card>

    <md-content layout="column" style="background: whitesmoke" flex="78">
      <md-card style="height: calc(100vh - 200px);">
        <md-card-content style="height: 100%">
          <!--Will not Support for workspace tabs, so ng-repead will be removed in the future. -->
          <div ng-repeat="workspace in vm.workspaces" heading="{{workspace.name}}" workspace="{{workspace.id}}" ng-click="workspace[$index].active = true" active="workspace.active" style="height: 100%">
            <svg class="root" workspace="{{workspace.id}}" style="width:100%; height:100%;" ng-click="vm.clickNone()">
              <g class="layer layer-0" workspace="{{workspace.id}}"></g>
              <g class="layer layer-1" workspace="{{workspace.id}}"></g>
              <g class="layer layer-2" workspace="{{workspace.id}}">
                <g ng-repeat="edge in workspace.edges|filter:edge.workspace_id=workspace.id">
                  <g cognitive-edge="" to="{{edge.to}}" from="{{edge.from}}" workspace="workspace.id"></g>
                </g>
              </g>
              <g class="layer layer-3" workspace="{{workspace.id}}">
                <g ng-repeat="node in workspace.nodes">
                  <g cognitive-node="">
                  </g>
                </g>
              </g>
              <g class="layer layer-4" workspace="{{workspace.id}}"></g>
            </svg>
          </div>
        </md-card-content>
      </md-card>
      <md-card layout="row" layout-align="center center">
        <md-button class="md-primary md-hue-1" ng-click="vm.run()">
          <ng-md-icon icon="play_circle_outline" style="fill: steelblue;" size="27pt"></ng-md-icon>
          <span>RUN</span>
        </md-button>
        <md-button class="md-primary md-hue-1" ng-click="vm.show()">
          <ng-md-icon icon="equalizer" style="fill: steelblue;" size="27pt"></ng-md-icon>
          <span>SHOW</span>
        </md-button>
      </md-card>
    </md-content>
  </md-content>
  <div class="messages">
    <div ng-include="'/static/app/common/message.html'"></div>
  </div>
</md-content>
